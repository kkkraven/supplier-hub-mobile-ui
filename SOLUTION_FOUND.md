# üéØ –†–ï–®–ï–ù–ò–ï –ù–ê–ô–î–ï–ù–û: Cloudflare Pages + Next.js

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞–ª–æ —è—Å–Ω–æ, —á—Ç–æ **–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**, –∞ –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Cloudflare Pages.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. ‚úÖ –£–¥–∞–ª–µ–Ω wrangler.toml
**–ü—Ä–∏—á–∏–Ω–∞**: Cloudflare Pages –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### 2. ‚úÖ –£–¥–∞–ª–µ–Ω worker
**–ü—Ä–∏—á–∏–Ω–∞**: Worker –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞–ª —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –∏ –º–µ—à–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤.

### 3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã _redirects
```bash
# –¢–æ—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è SPA
/     /index.html   200
/factories/*    /index.html   200
/rfq/*    /index.html   200
/categories/*    /index.html   200
/admin/*    /index.html   200
/auth    /index.html   200
/catalog    /index.html   200
/pricing    /index.html   200
/*    /index.html   200
```

### 4. ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `localhost:3001`
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (200 OK)
- –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã:
```
HTTP  21.08.2025 23:41:30 ::1 GET /                    ‚Üí 200 OK
HTTP  21.08.2025 23:41:57 ::1 GET /catalog/            ‚Üí 200 OK
HTTP  21.08.2025 23:42:05 ::1 GET /factories/          ‚Üí 200 OK
HTTP  21.08.2025 23:44:24 ::1 GET /pricing/            ‚Üí 200 OK
HTTP  21.08.2025 23:44:33 ::1 GET /auth/               ‚Üí 200 OK
```

### ‚ö†Ô∏è –ú–∞—Ä—à—Ä—É—Ç—ã —Å 404 (–æ–∂–∏–¥–∞–µ–º–æ):
```
HTTP  21.08.2025 23:41:51 ::1 GET /category/woven      ‚Üí 404 (–Ω–µ —Å–æ–∑–¥–∞–Ω)
HTTP  21.08.2025 23:41:59 ::1 GET /category/knit       ‚Üí 404 (–Ω–µ —Å–æ–∑–¥–∞–Ω)
```

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ** - —ç—Ç–∏ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –≤ `generateStaticParams()`.

## –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

### next.config.ts:
```typescript
output: 'export',
trailingSlash: true,
images: {
  unoptimized: true
}
```

### _redirects:
```bash
# Cloudflare Pages redirects –¥–ª—è SPA
/     /index.html   200
/factories/*    /index.html   200
/rfq/*    /index.html   200
/categories/*    /index.html   200
/admin/*    /index.html   200
/auth    /index.html   200
/catalog    /index.html   200
/pricing    /index.html   200
/*    /index.html   200
```

### _headers:
```bash
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin

/_next/static/*
  Cache-Control: public, max-age=31536000, immutable

/*.html
  Cache-Control: public, max-age=0, must-revalidate
```

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –Ω–∞ Cloudflare Pages:

1. **Cloudflare –æ–±–Ω–∞—Ä—É–∂–∏—Ç –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å–±–æ—Ä–∫–∞ –±–µ–∑ wrangler.toml**
3. **–ë—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**:
   - Build command: `npm run build`
   - Output directory: `out`
4. **_redirects –∏ _headers –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã**
5. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ SPA**

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±–æ—Ä–∫–∏:
```
Route (app)                                          Size  First Load JS
‚îå ‚óã /                                             11.2 kB         340 kB
‚îú ‚óã /_not-found                                     184 B         329 kB
‚îú ‚óã /admin/export                                 5.23 kB         370 kB
‚îú ‚óã /admin/login                                  2.52 kB         331 kB
‚îú ‚óã /admin/reviews                                5.99 kB         367 kB
‚îú ‚óã /auth                                         4.47 kB         365 kB
‚îú ‚óã /catalog                                      6.47 kB         335 kB
‚îú ‚óã /categories/[categorySlug]-single               165 B         377 kB
‚îú ‚óè /categories/[categorySlug]/[subcategorySlug]  2.17 kB         379 kB
‚îú ‚óã /env-test                                     1.64 kB         363 kB
‚îú ‚óã /factories                                    1.65 kB         375 kB
‚îú ‚óè /factories/[id]                                 125 B         329 kB
‚îú ‚óã /pricing                                      5.97 kB         334 kB
‚îú ‚óã /rfq                                          4.75 kB         370 kB
‚îú ‚óè /rfq/[id]                                     7.09 kB         373 kB
‚îú ‚óè /rfq/[id]/edit                                  125 B         329 kB
‚îú ‚óè /rfq/[id]/send                                  125 B         329 kB
‚îú ‚óã /rfq/create                                   6.28 kB         372 kB
‚îú ‚óè /rfq/quote/[rfqId]                             5.3 kB         334 kB
‚îú ‚óã /supabase-test                                3.68 kB         332 kB
‚îî ‚óã /test-export                                  4.68 kB         333 kB
```

## üéâ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Cloudflare Pages!**

- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Redirects –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–ø—Ä–æ—â–µ–Ω–∞ –∏ –æ—á–∏—â–µ–Ω–∞
- ‚úÖ Worker —É–¥–∞–ª–µ–Ω –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ `supplier-hub-mobile-ui1.pages.dev`!** üöÄ

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ï–®–ï–ù–û
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ Cloudflare Pages –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
